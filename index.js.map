{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["/**\n * voltiq-brain.fit - Main Script\n * Год: 2026\n * Особенности: No-libraries, Vanilla JS, Intersection Observer\n */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    \n    // --- 1. Инициализация иконок Lucide ---\n    if (typeof lucide !== 'undefined') {\n        lucide.createIcons();\n    }\n\n    // --- 2. Управление Хедером (скролл-эффект) ---\n    const header = document.querySelector('.header');\n    window.addEventListener('scroll', () => {\n        if (window.scrollY > 50) {\n            header.style.padding = '12px 0';\n            header.style.background = 'rgba(11, 14, 20, 0.95)';\n            header.style.boxShadow = '0 10px 30px rgba(0,0,0,0.3)';\n        } else {\n            header.style.padding = '20px 0';\n            header.style.background = 'rgba(11, 14, 20, 0.8)';\n            header.style.boxShadow = 'none';\n        }\n    });\n\n    // --- 3. Мобильное меню ---\n    const burger = document.getElementById('burger-menu');\n    const closeBtn = document.getElementById('close-menu');\n    const mobileNav = document.getElementById('mobile-nav');\n    const mobileLinks = document.querySelectorAll('.mobile-nav__link');\n\n    const toggleMenu = (state) => {\n        if (state === 'open') {\n            mobileNav.classList.add('active');\n            document.body.style.overflow = 'hidden';\n        } else {\n            mobileNav.classList.remove('active');\n            document.body.style.overflow = '';\n        }\n    };\n\n    if (burger) burger.addEventListener('click', () => toggleMenu('open'));\n    if (closeBtn) closeBtn.addEventListener('click', () => toggleMenu('close'));\n    \n    // Закрытие при клике на ссылку в мобильном меню\n    mobileLinks.forEach(link => {\n        link.addEventListener('click', () => toggleMenu('close'));\n    });\n\n    // --- 4. Hero Parallax (движение за мышью) ---\n    const hero = document.querySelector('.hero');\n    if (hero && window.innerWidth > 1024) {\n        hero.addEventListener('mousemove', (e) => {\n            const { clientX, clientY } = e;\n            const centerX = window.innerWidth / 2;\n            const centerY = window.innerHeight / 2;\n            \n            const moveX = (clientX - centerX) / 50;\n            const moveY = (clientY - centerY) / 50;\n            \n            const circles = document.querySelectorAll('.hero__circle');\n            circles.forEach((circle, index) => {\n                const speed = (index + 1) * 0.4;\n                circle.style.transform = `translate(${moveX * speed}px, ${moveY * speed}px)`;\n            });\n        });\n    }\n\n    // --- 5. Reveal Animation (появление при скролле) ---\n    const revealObserver = new IntersectionObserver((entries) => {\n        entries.forEach(entry => {\n            if (entry.isIntersecting) {\n                entry.target.classList.add('visible');\n            }\n        });\n    }, { threshold: 0.15 });\n\n    document.querySelectorAll('.reveal').forEach(el => {\n        revealObserver.observe(el);\n    });\n\n    // --- 6. Инновации (Переключение Табов) ---\n    const tabButtons = document.querySelectorAll('.tab-btn');\n    const tabPanels = document.querySelectorAll('.tab-panel');\n\n    tabButtons.forEach(btn => {\n        btn.addEventListener('click', () => {\n            const target = btn.dataset.target;\n\n            tabButtons.forEach(b => b.classList.remove('active'));\n            tabPanels.forEach(p => p.classList.remove('active'));\n\n            btn.classList.add('active');\n            const targetPanel = document.getElementById(target);\n            if (targetPanel) {\n                targetPanel.classList.add('active');\n                // Переинициализация иконок внутри таба\n                if (typeof lucide !== 'undefined') lucide.createIcons();\n            }\n        });\n    });\n\n    // --- 7. Контактная форма и Капча ---\n    const contactForm = document.getElementById('ai-contact-form');\n    const captchaLabel = document.getElementById('captcha-question');\n    const phoneInput = document.getElementById('user-phone');\n    const successBox = document.getElementById('form-success');\n\n    let num1, num2, correctAnswer;\n\n    const generateCaptcha = () => {\n        num1 = Math.floor(Math.random() * 10) + 1;\n        num2 = Math.floor(Math.random() * 10) + 1;\n        correctAnswer = num1 + num2;\n        if (captchaLabel) captchaLabel.textContent = `${num1} + ${num2}`;\n    };\n\n    if (captchaLabel) generateCaptcha();\n\n    // Валидация телефона в реальном времени\n    if (phoneInput) {\n        phoneInput.addEventListener('input', (e) => {\n            e.target.value = e.target.value.replace(/[^0-9]/g, '');\n        });\n    }\n\n    if (contactForm) {\n        contactForm.addEventListener('submit', (e) => {\n            e.preventDefault();\n            \n            const userAnswer = parseInt(document.getElementById('captcha-answer').value);\n            \n            if (userAnswer !== correctAnswer) {\n                alert('Ошибка проверки! Пожалуйста, решите математический пример правильно.');\n                generateCaptcha();\n                return;\n            }\n\n            const submitBtn = contactForm.querySelector('.form__submit');\n            const originalText = submitBtn.innerHTML;\n            \n            // Эффект загрузки\n            submitBtn.disabled = true;\n            submitBtn.innerHTML = '<span>Обработка данных...</span>';\n\n            // Имитация AJAX-запроса\n            setTimeout(() => {\n                successBox.classList.add('active');\n                contactForm.reset();\n                generateCaptcha();\n                \n                // Возврат кнопки через время\n                setTimeout(() => {\n                    successBox.classList.remove('active');\n                    submitBtn.disabled = false;\n                    submitBtn.innerHTML = originalText;\n                }, 5000);\n            }, 1500);\n        });\n    }\n\n    // --- 8. Cookie Popup ---\n    const cookiePopup = document.getElementById('cookie-popup');\n    const acceptCookies = document.getElementById('accept-cookies');\n\n    if (cookiePopup && acceptCookies) {\n        const isAccepted = localStorage.getItem('cookies-accepted');\n        \n        if (!isAccepted) {\n            setTimeout(() => {\n                cookiePopup.classList.add('visible');\n            }, 3000);\n        }\n\n        acceptCookies.addEventListener('click', () => {\n            localStorage.setItem('cookies-accepted', 'true');\n            cookiePopup.classList.remove('visible');\n        });\n    }\n    \n    // --- 9. Плавный скролл для всех якорных ссылок ---\n    document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n        anchor.addEventListener('click', function (e) {\n            e.preventDefault();\n            const target = document.querySelector(this.getAttribute('href'));\n            if (target) {\n                window.scrollTo({\n                    top: target.offsetTop - 80,\n                    behavior: 'smooth'\n                });\n            }\n        });\n    });\n});"],"names":["header","burger","closeBtn","mobileNav","mobileLinks","toggleMenu","state","link","hero","clientX","clientY","centerX","centerY","moveX","moveY","circle","index","speed","revealObserver","entries","entry","el","tabButtons","tabPanels","btn","target","b","p","targetPanel","contactForm","captchaLabel","phoneInput","successBox","num1","num2","correctAnswer","generateCaptcha","submitBtn","originalText","cookiePopup","acceptCookies","anchor","e"],"mappings":"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"}